<!--cart.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head') %>
</head>
<body>
    <%- include('../partials/nav') %>

    <div class="container mt-5 mb-5">
        <div class="card">
            <div class="card-body">
                <h3 class="card-title text-center">Your Shopping Cart</h3>

                <% if (items.length > 0) { %>
                    <ul class="list-group mb-4">
                        <% items.forEach(item => { %>
                            <li class="list-group-item">
                                <strong>Name:</strong> <%= item.name %> <br>
                                <strong>Price:</strong> $<%= item.price ? item.price.toFixed(2) : '0.00' %> <br>
                                <strong>Quantity:</strong> <%= item.quantity %> <br>
                                <strong>Total:</strong> $<%= (item.price * item.quantity).toFixed(2) %> <br>
                            </li>
                        <% }); %>
                    </ul>
                    <h4 class="text-center">Total Price: $<%= totalPrice.toFixed(2) %></h4>

                    <h5 class="mt-4">Fill out your payment information to proceed</h5>
                    <form action="/cart/payment" method="POST" class="my-4" id="cartForm">
                        <div class="form-group">
                            <label for="name">Name:</label>
                            <input type="text" class="form-control" id="name" name="name" placeholder="Enter your name" required>
                        </div>
                        <div class="form-group">
                            <label for="address">Address:</label>
                            <textarea class="form-control" id="address" name="address" placeholder="Enter your address" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="card">Credit Card Number:</label>
                            <input type="text" class="form-control" id="card" name="card" placeholder="Enter your credit card number" required>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block mt-3">Send</button>
                    </form>
                <% } else { %>
                    <p class="text-center">Your cart is empty.</p>
                <% } %>
            </div>
        </div>
    </div>

    <%- include('../partials/footer') %>
</body>
</html>