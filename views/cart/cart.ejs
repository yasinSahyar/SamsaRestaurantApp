<!--cart.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head') %>
</head>
<body>
    <%- include('../partials/nav') %>

    <div class="container">
        <h1>Your Shopping Cart</h1>
        <% if (items.length > 0) { %>
            <ul>
                <% items.forEach(item => { %>
                    <li>
                        <strong>Name:</strong> <%= item.name %> <br>
                        <strong>Price:</strong> $<%= item.price ? item.price.toFixed(2) : '0.00' %> <br>
                        <strong>Quantity:</strong> <%= item.quantity %> <br>
                        <strong>Total:</strong> $<%= (item.price * item.quantity).toFixed(2) %> <br>
                    </li>
                <% }); %>
            </ul>
            <h2>Total Price: $<%= totalPrice.toFixed(2) %></h2>

            <h3>Fill out your payment information to proceed</h3>
            <form action="/cart/payment" method="POST">
                <div>
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div>
                    <label for="address">Address:</label>
                    <textarea id="address" name="address" required></textarea>
                </div>
                <div>
                    <label for="card">Credit Card Number:</label>
                    <input type="text" id="card" name="card" required>
                </div>
                <button type="submit">Send</button>
            </form>
        <% } else { %>
            <p>Your cart is empty.</p>
        <% } %>
    </div>
</body>
</html>